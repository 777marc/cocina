{% extends 'base.html' %} {% block content %}
<article class="max-w-2xl">
  <h1 class="text-3xl font-bold mb-2">{{ recipe.title }}</h1>
  <p class="text-gray-600 mb-4">
    By {{ recipe.author.name or recipe.author.email }} Â· {{
    recipe.created_at.strftime('%Y-%m-%d') }}
  </p>
  {% if recipe.description %}
  <p class="mb-6 text-lg">{{ recipe.description }}</p>
  {% endif %}
  <div class="grid md:grid-cols-2 gap-8">
    <div>
      <h2 class="text-xl font-semibold mb-2">Ingredients</h2>
      <ul class="list-disc ml-5 space-y-1">
        {% for line in recipe.ingredients.split('\n') if line.strip() %}
        <li>{{ line }}</li>
        {% endfor %}
      </ul>
    </div>
    <div>
      <h2 class="text-xl font-semibold mb-2">Instructions</h2>
      <ol class="list-decimal ml-5 space-y-2">
        {% for step in recipe.instructions.split('\n') if step.strip() %}
        <li>{{ step }}</li>
        {% endfor %}
      </ol>
    </div>
  </div>
  {% if can_edit %}
  <div class="mt-6 flex space-x-4">
    <a
      href="{{ url_for('recipes.edit_recipe', recipe_id=recipe.id) }}"
      class="px-4 py-2 rounded bg-yellow-500 text-white"
      >Edit</a
    >
    <form
      method="post"
      action="{{ url_for('recipes.delete_recipe', recipe_id=recipe.id) }}"
      onsubmit="return confirm('Delete recipe?');"
    >
      <button class="px-4 py-2 rounded bg-red-600 text-white">Delete</button>
    </form>
  </div>
  {% endif %}
</article>
{% endblock %}
